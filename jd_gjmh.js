/*
国际盲盒
活动入口：京东APP首页-京东国际-国际盲盒
活动时间：2021-02-23 - 2021-03-01
因为活动助力方式，找不出比较好的方法解决助力问题，所以默认不助力直接开奖。

后续发布脚本均有加密
因为我介意别人把我脚本里的助力改了。
如果不愿意助力，可以直接下载脚本到本地，通过修改helpAhtor这个参数来关闭助力请求。
请不要修改我的助力。
脚本内置了一个给作者任务助力的网络请求，默认开启，如介意请自行关闭。
助力活动链接： https://h5.m.jd.com/babelDiy/Zeus/4ZK4ZpvoSreRB92RRo8bpJAQNoTq/index.html
参数 helpAuthor = false

更新地址：https://raw.githubusercontent.com/i-chenzhe/qx/main/jd_gjmh.js
已支持IOS双京东账号, Node.js支持N个京东账号
脚本兼容: QuantumultX, Surge, Loon, 小火箭，JSBox, Node.js
============Quantumultx===============
[task_local]
#国际盲盒
10 13 23-28,1 2-3 * https://raw.githubusercontent.com/i-chenzhe/qx/main/jd_gjmh.js, tag=国际盲盒, enabled=true
================Loon==============
[Script]
cron "10 13 23-28,1 2-3 *" script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/jd_gjmh.js, tag=国际盲盒
===============Surge=================
国际盲盒 = type=cron,cronexp="10 13 23-28,1 2-3 *",wake-system=1,timeout=3600,script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/jd_gjmh.js
============小火箭=========
国际盲盒 = type=cron,script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/jd_gjmh.js, cronexpr="10 13 23-28,1 2-3 *", timeout=3600, enable=true
 */
const $ = new Env('国际盲盒');
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
let cookiesArr = [], cookie = '', message;
let helpAuthor = true;
if ($.isNode()) {
    Object.keys(jdCookieNode).forEach((item) => {
        cookiesArr.push(jdCookieNode[item])
    })
    if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => { };
} else {
    let cookiesData = $.getdata('CookiesJD') || "[]";
    cookiesData = JSON.parse(cookiesData);
    cookiesArr = cookiesData.map(item => item.cookie);
    cookiesArr.reverse();
    cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
    cookiesArr.reverse();
    cookiesArr = cookiesArr.filter(item => item !== "" && item !== null && item !== undefined);
}
!(async () => {
    if (!cookiesArr[0]) {
        $.msg($.name, '【提示】请先获取京东账号一cookie\n直接使用NobyDa的京东签到获取', 'https://bean.m.jd.com/bean/signIndex.action', { "open-url": "https://bean.m.jd.com/bean/signIndex.action" });
        return;
    }
    for (let i = 0; i < cookiesArr.length; i++) {
        if (cookiesArr[i]) {
            cookie = cookiesArr[i];
            $.UserName = decodeURIComponent(cookie.match(/pt_pin=(.+?);/) && cookie.match(/pt_pin=(.+?);/)[1])
            $.index = i + 1;
            $.isLogin = true;
            $.nickName = '';
            message = '';
            console.log(`\n******开始【京东账号${$.index}】${$.nickName || $.UserName}*********\n`);
            if (!$.isLogin) {
                $.msg($.name, `【提示】cookie已失效`, `京东账号${$.index} ${$.nickName || $.UserName}\n请重新登录获取\nhttps://bean.m.jd.com/bean/signIndex.action`, { "open-url": "https://bean.m.jd.com/bean/signIndex.action" });
                if ($.isNode()) {
                    await notify.sendNotify(`${$.name}cookie已失效 - ${$.UserName}`, `京东账号${$.index} ${$.UserName}\n请重新登录获取cookie`);
                }
                continue
            }
            await international_mh();
        }
    }
})()
    .catch((e) => {
        $.log('', `❌ ${$.name}, 失败! 原因: ${e}!`, '')
    })
    .finally(() => {
        $.done();
    })
var _0xods='jsjiami.com.v6',_0x460a=[_0xods,'woBJwokEw7I=','AsKdXsOKaw==','wqvCvB7CgMKK','HmRJdiM=','w54twpAhIQ==','L8OLwpg=','DGdZbjkCDMKnCg==','Skgyw6bCrA==','w4XCl8KMWXU=','eMOGJMOHSA==','WcKEw4BKw6AtEg==','wqnDicOnwrQ=','S14iw7XCp3jDhcO3w7TCscKow5EB','OgDCjMOsY8OWJMK0w4E=','RcKoGl7DpcOI','ecO8YMK4','bDbDmsK0GsKmaW4cw7E=','ccOUwpJvwp/Dji/DlDg=','esKvCnHDvA==','Fn7CiHomwqQ=','w5J/e2zDo8OJw6tFI8Op','e8OJwpQ=','6Leq5ouP6aCI5o+X77yh5peD57+W5ZWG44GE','w4PDoV8GwqjCoQ==','w6MAwp85','ecKKbQo=','wrHCqgs=','w4gTYsK2w5XDvg==','I8OMw4I/w48=','AMOcX8OlCg==','w5kZdcKm','ScKCw4to','wqHDh8O0','w5fCjh7ChMKs','w5YZdsKGw4vDuA==','w6oLwposwo/CqVlEw65IN8Kmw7lXworDssOeDgjCiA0vwr3Cn8OLVcOewqZRwrZTwp3DglFZwqQXw43CkxJGdmrDjwPDqxN6w5diZSURwqDDo2bDijMgwolWwoZ0wrp8WBBqAsOlw7BLwpNEU8KresKDNsKYPjJew7/ClRJUwqRaw4XDocOaL8KFGsOwRcKMOjnDrF/DjMKXw7/Cpk0yw6bDrXDCl8Ktw6DDrTYNwq5SMC7DkDBVw5XCuMOow5/Dr3kJB04VDsOdZH08w5/CpkvDpHUgc8OZwr8tb2LCjBFfw7dmw6PDjHN2T0zCoz9xwp7Csndww6TDtHwcw4BCwozDt8OresKTZR7DvTnCozxHViHDssKAwo02w49nwpvCj8Oreg3CrzMPLjfCrCNJdMKewpQ+w6LDmyI2fX3CqEoYPgfDosKGU3kRMMOVTcOjw6jCuSI3w50Gw4xjVFnDuQ8RcMKOwpnDinTCklQZHsKZWMKvB8Kww4YXWcKgZ0zDs1jCqXVhMcKZw7zDvyTClcK0DRNxw6jDk8KXaMKFUjcDX8KkDcKSwoYww7N8wr0=','DMOZfgUa','G8ODIMKpwrJ+PiYaP3rCl0zCsB9Gw67CvzYowrLDqMKtXcOiwq1BFU5Mw4deYMK+w6Ar','w5nDsFgDwrfDr2FKw6xawp4eJsOZUn82FnNkRBVvOVXCu8OGwqweMsK7woYlw7kISApedWhnO1N1Y8OK','w5Vjwr01w4/Ch2wjA2tuY0rCgxvDm8OYw7gnR0nDj8KRSg==','w4VuwprCmsOu','w6EfwpJywpLCvFpwwqhENsKu','woQROVDDqg==','w5LCjgPCmcKmQ8KPT8Ozw7fCmBkVwqdpeWfCiBYGKXEBw5/CkRYzcDkLCQnDoQ==','aDPCmcKXw4Y=','w5bDvkUDw6jDtSoAw6tGwpZELsObGHlq','w5vCigfChcK8GsOBFMO7w6jCnxgNw6Z0djLChgEMPCpEw4vDkxU7bHJKSkjDpMOCR0QXbA==','wo4Iw5Vtw6xiwrjDvyZvI3oJIcK4wobCgA==','w7fCisKYCF5TYcKCfcKC','w7oHw5Y/wpE=','P07CvA==','w5fChx7CpMKL','E8O7TDRu','w4AEJFlXwqbDhcKCwonCjMKDURHCh17CpXXDiBAGNybCm8Kfw5DCkmQmdiTDoifDr8Kf','dsOWwoNkwpvDiCDDlCLCi0vCsMOULSpDwo4XVkpjwr17w63ChDXCqMOCwrHDi8O1w7Qz','NAbCmcO7fcKJZcOvw5rCrlV0ZibCvsO8PE7Clw==','wpPCiBjCh8K5','w7o1PE1T','OcOHOREh','wqPCgMKXWyjCscKQwrLDs3JWwqjCjsKMw5kPwpLCp8Owa8OIw7kZHsOKwpkCeDoG','woIrw45Iwqg=','wo5ww55Nw4vCi0VKQybCn8KpVHbDoUHCvsKUw6dOwrJDJcOVw5bDoXrCscKVwqFGw5whNCbCrUTCj8OUw5A=','w5Ykw5/Ciw==','w5lKe2/Dnw==','w647w69Tw6I4fMKswo8=','LB3CnsO/','YSvCuMKiw6s=','w4gxwrt9w40=','PzvDssKR','AhjDgMK9RA==','w4FISHHDsQ==','UkEbw6DCvw==','wqIaTMO1w5s=','Hl/Cmnsr','ZS7DosKg','NMOFwpZR','UyrDpQ==','B1hITjo=','Ck7Cuw==','wq/CrB/ChA==','b8O0Z8Ky','LT3CvMOnZw==','C8KdZMKBFQ==','w4A5w43CmMKOw4R0woVW','wpXCusKAPXQ=','E3xM','w5vChsKY','asO8fcKt','CVRATTs=','w6oCwrUKwr4=','bDzDsQ==','VcKKw5Vm','5p+y5q6x6LyY6KKx5Yad6I+j5b2B','woMbw5J6wqQtwqnDlDVuMQ==','BMOUMAMddk3CiCnDpRjDv8O8wpYYEQ7DkG9k','YDzCv8Kxw73CnDRRwprDhjHClQE=','woABw7NtwqUs','w6LCksKC','wobDpMKlwpXCpg==','w4DCigHCnMKhR8KHXcOj','w4ttW3bDtQ==','EsOQJwc=','DnLClWguwr95wpctW0Y=','wovDv8O0RcOlWA==','w7Egw7p/w74t','w6YBwroZwq4=','5Li/5pS46LWY5LiV5bek6L2n5LmS6Zih','w5bDoVg=','Y8O2HcOHTg==','IcOdZsKvwq3Cugpzwo3DoMKbw78tw5fDqHDDr0Rww4VJa8KRwoInIcOzXCoGwpLCk8KbS1ZkI0PCo0I2NFp6UsK/PwbDg8KKw5MuwqbDtF8=','w6kAwqc/Bg==','wrRkNSnCvg==','GsOeNA==','EcKZcMKmEcK3','IMObT8OMHkxU','ZcOGLg==','Wi3Cg8Kbw6E=','b8O4Z8KswrcD','VF4mw6fCtHvDog==','IVbCsXwD','EsKLT8KRwro=','wr7CncK1BUFX','wq/Cl8KiFQ==','w5djTkDDosOQ','PcObPyINMxXCh1jCjcKiXg==','w7DCvcKZNRk=','wp7Dv8Oz','w5HCizvCn8Ku','w6/CpMK4AAY=','w6Ztw7xZw7g2Y8KjwoLCuEDCo0cqNsONw5zCh8OgwrpoSnBLOQzChRfDnULDkcOPw75lcsKlw7PDolvDvHElwpE=','EGFPYiUrCg==','QcOQIcK8DcKmwobClkLDmCNnP0U=','FMOeKy8aZkc=','C2vCnmEYwrVvwpA8','wr0FRw==','wq7CsR7ChsK+w6LDhmzClg==','wpkTw45uwqU=','e8OJwqZewrs=','w65OwojCqw==','w5vDrUIUwqDCujsrw7hHwoQ=','wrfCrALCiMK0w6rDmkTCmsOmNA==','RsOowrFpwp8=','wpsXw49owqw2','w5fCnwfClA==','d8O0esK+wr8YJcKwQknDow==','w4okw4vCusKRw5M=','w4kFwrYiJw==','C3JYbBsMFsK1','w5LDq0EewqvCuxoEw75B','w58OdMKgw4zDvsOQR8KVdU4jwqA=','MFPCr2MM','TVomw7/CnHg=','ScO1XsOiXyFRwo5mW1vDj8KWw7DCow==','wrrCkcKjB35Gwq1PKEXCqw==','wrDDjcKcGwdbe8KCf8KeLsOew7zDhkN2wpDClcO+URjDsyFyw7I5CAEuwrhfw7A=','w6wAwpw=','B8OWJ8KywpU9YWwzM3bCgA==','fF/DjQ==','wp0Tw492wo4jwrHDvw==','f8OGP8OA','PMOqw4k9','EHrCiGQYwqVi','KcONRMOLCw==','O8Oqw5I6w6Y=','ccOyc8KcwqkF','KcOfSMOe','c8KFN8OXWcKPWCDDksO7dXc1w5RQfsOZccOwNsKcw5nDtTRIw6oLCMKYwr/CgcKG','PcKacA==','SEsjw7zCpA==','woUdw5s=','wr/CjMK0GUNEwqdGPw==','ScKOw4t2w6I/','RcOswqZwwos=','LErCu341ecOfZg==','KMKad8KvwrjCmg==','OBPCmcOq','MB3CisOOfMOB','c8KCShjDgg==','wqzCk8OIBEBOOcKXOcKbXA==','wqBP6Led5omr6aCx5oy177y85pe0576e5ZWB44Gb','6La75om46aGT5o6d776A5pa/57yN5Zas44O0','w4jDnBLChcK/TMKHWMO7w6zCn1kRwp1iNXHCilBUYzMewp7DiUF4MjdKQFLCosOdQFQLV2cqwq7DssOXesKwbRpIdcKBwoglwpFuX8OfwofDgDjChFNXw4suw5bDgMONw5kQTsOb','LxLPjTsgdjptkiamkdi.TcomI.v6=='];(function(_0x4285f2,_0x36de32,_0x328f73){var _0x192d62=function(_0x1afd8a,_0x4e2096,_0x29eae4,_0x1f7ff7,_0x3717cf){_0x4e2096=_0x4e2096>>0x8,_0x3717cf='po';var _0x3586d5='shift',_0x3d5c8d='push';if(_0x4e2096<_0x1afd8a){while(--_0x1afd8a){_0x1f7ff7=_0x4285f2[_0x3586d5]();if(_0x4e2096===_0x1afd8a){_0x4e2096=_0x1f7ff7;_0x29eae4=_0x4285f2[_0x3717cf+'p']();}else if(_0x4e2096&&_0x29eae4['replace'](/[LxLPTgdptkkdTI=]/g,'')===_0x4e2096){_0x4285f2[_0x3d5c8d](_0x1f7ff7);}}_0x4285f2[_0x3d5c8d](_0x4285f2[_0x3586d5]());}return 0x7441b;};return _0x192d62(++_0x36de32,_0x328f73)>>_0x36de32^_0x328f73;}(_0x460a,0x19a,0x19a00));var _0xc168=function(_0x1d69b1,_0xca12b4){_0x1d69b1=~~'0x'['concat'](_0x1d69b1);var _0x3ef47e=_0x460a[_0x1d69b1];if(_0xc168['QIZLTH']===undefined){(function(){var _0x21214c=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x394837='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x21214c['atob']||(_0x21214c['atob']=function(_0x31ad9b){var _0x361ffa=String(_0x31ad9b)['replace'](/=+$/,'');for(var _0x535edf=0x0,_0x5d51a7,_0x456d52,_0xe21b0=0x0,_0x16ce89='';_0x456d52=_0x361ffa['charAt'](_0xe21b0++);~_0x456d52&&(_0x5d51a7=_0x535edf%0x4?_0x5d51a7*0x40+_0x456d52:_0x456d52,_0x535edf++%0x4)?_0x16ce89+=String['fromCharCode'](0xff&_0x5d51a7>>(-0x2*_0x535edf&0x6)):0x0){_0x456d52=_0x394837['indexOf'](_0x456d52);}return _0x16ce89;});}());var _0x52ac8b=function(_0x41a2f7,_0xca12b4){var _0x309a85=[],_0x3cd1f0=0x0,_0x17fa68,_0x46f6ab='',_0x2d6263='';_0x41a2f7=atob(_0x41a2f7);for(var _0x404ee9=0x0,_0x270457=_0x41a2f7['length'];_0x404ee9<_0x270457;_0x404ee9++){_0x2d6263+='%'+('00'+_0x41a2f7['charCodeAt'](_0x404ee9)['toString'](0x10))['slice'](-0x2);}_0x41a2f7=decodeURIComponent(_0x2d6263);for(var _0x45ec40=0x0;_0x45ec40<0x100;_0x45ec40++){_0x309a85[_0x45ec40]=_0x45ec40;}for(_0x45ec40=0x0;_0x45ec40<0x100;_0x45ec40++){_0x3cd1f0=(_0x3cd1f0+_0x309a85[_0x45ec40]+_0xca12b4['charCodeAt'](_0x45ec40%_0xca12b4['length']))%0x100;_0x17fa68=_0x309a85[_0x45ec40];_0x309a85[_0x45ec40]=_0x309a85[_0x3cd1f0];_0x309a85[_0x3cd1f0]=_0x17fa68;}_0x45ec40=0x0;_0x3cd1f0=0x0;for(var _0x57b6b7=0x0;_0x57b6b7<_0x41a2f7['length'];_0x57b6b7++){_0x45ec40=(_0x45ec40+0x1)%0x100;_0x3cd1f0=(_0x3cd1f0+_0x309a85[_0x45ec40])%0x100;_0x17fa68=_0x309a85[_0x45ec40];_0x309a85[_0x45ec40]=_0x309a85[_0x3cd1f0];_0x309a85[_0x3cd1f0]=_0x17fa68;_0x46f6ab+=String['fromCharCode'](_0x41a2f7['charCodeAt'](_0x57b6b7)^_0x309a85[(_0x309a85[_0x45ec40]+_0x309a85[_0x3cd1f0])%0x100]);}return _0x46f6ab;};_0xc168['TzPCQp']=_0x52ac8b;_0xc168['lYrYUu']={};_0xc168['QIZLTH']=!![];}var _0x2f5d81=_0xc168['lYrYUu'][_0x1d69b1];if(_0x2f5d81===undefined){if(_0xc168['TSjqOe']===undefined){_0xc168['TSjqOe']=!![];}_0x3ef47e=_0xc168['TzPCQp'](_0x3ef47e,_0xca12b4);_0xc168['lYrYUu'][_0x1d69b1]=_0x3ef47e;}else{_0x3ef47e=_0x2f5d81;}return _0x3ef47e;};async function international_mh(){var _0x2fc6d9={'srprd':function(_0x477b22){return _0x477b22();},'dymQD':_0xc168('0','4[La'),'NMthi':_0xc168('1','Y&aQ'),'REldw':_0xc168('2','X7Yh'),'OvjwU':'application/json,\x20text/plain,\x20*/*','pUcai':'jdapp;iPhone;9.4.0;14.3;;network/wifi;ADID/;supportApplePay/0;hasUPPay/0;hasOCPay/0;model/iPhone10,3;addressid/;supportBestPay/0;appBuild/167541;jdSupportDarkMode/0;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1','kYrUh':_0xc168('3','H*!m'),'bFRjO':'application/json','dmGEu':function(_0x71ecc4,_0x22e7fb){return _0x71ecc4!==_0x22e7fb;},'YBFMY':function(_0x2df923,_0x15be7b){return _0x2df923<_0x15be7b;},'kzNtj':'0|4|1|2|3','RPibf':function(_0x4943b0,_0x1fa513,_0x5ce27e){return _0x4943b0(_0x1fa513,_0x5ce27e);},'xKcIm':function(_0x35279a,_0x4826d4){return _0x35279a===_0x4826d4;},'bweOj':function(_0x3d73b4,_0x2f9a15){return _0x3d73b4>_0x2f9a15;},'qOQli':function(_0x2f86b5,_0x315166){return _0x2f86b5(_0x315166);},'OdYSI':function(_0x4feb67,_0x162c07){return _0x4feb67/_0x162c07;},'hagRh':function(_0x591467,_0x1d5067){return _0x591467/_0x1d5067;},'vGkJl':function(_0x2654f5){return _0x2654f5();},'jmNVA':function(_0x4f0b6b){return _0x4f0b6b();}};if(helpAuthor){function _0x1ffaee(){return new Promise(_0x29ad84=>{var _0x5d8688={'uMZIQ':function(_0x56ecc5){return _0x2fc6d9['srprd'](_0x56ecc5);}};$[_0xc168('4','ot[8')]({'url':_0x2fc6d9[_0xc168('5','4[La')]},(_0x500f3f,_0x808dab,_0x567c35)=>{try{if(_0x567c35){$['zData']=JSON['parse'](_0x567c35);};}catch(_0x44c68a){console['log'](_0x44c68a);}finally{_0x5d8688[_0xc168('6','Eo88')](_0x29ad84);};});});}function _0x2cc21c(_0x498f57,_0x391c15){let _0x1dc668={'url':_0xc168('7','tVfL'),'headers':{'Host':'api.m.jd.com','Content-Type':_0xc168('8','zUTe'),'Origin':_0xc168('9','WCss'),'Accept-Encoding':_0x2fc6d9[_0xc168('a','VYVr')],'Cookie':cookie,'Connection':_0x2fc6d9[_0xc168('b','tVfL')],'Accept':_0x2fc6d9[_0xc168('c','8*GC')],'User-Agent':_0x2fc6d9['pUcai'],'Referer':'https://h5.m.jd.com/babelDiy/Zeus/4ZK4ZpvoSreRB92RRo8bpJAQNoTq/index.html?serveId=wxe30973feca923229&actId='+_0x498f57+_0xc168('d','Bx4$'),'Accept-Language':_0x2fc6d9[_0xc168('e','Y&aQ')]},'body':'functionId=cutPriceByUser&body={\x22activityId\x22:\x22'+_0x498f57+_0xc168('f','ZQds')+_0x391c15+',\x22userPic\x22:\x22\x22}&client=wh5&clientVersion=1.0.0'};return new Promise(_0x42b07a=>{$[_0xc168('10','YoS^')](_0x1dc668,(_0x4763cc,_0x4f73d1,_0x5e93e7)=>{if(_0x5e93e7){$['zRes']=JSON['parse'](_0x5e93e7);_0x42b07a();};});});}function _0x52146c(_0x197f5a,_0x46ea58){let _0x47636c={'url':'https://api.r2ray.com/jd.bargain/done','headers':{'Content-Type':_0x2fc6d9[_0xc168('11','h&Aj')]},'body':JSON[_0xc168('12','FGEu')]({'actID':_0x197f5a,'actsID':_0x46ea58,'done':0x1})};return new Promise(_0x4daf52=>{$[_0xc168('13','WCss')](_0x47636c,(_0xd33b3b,_0x3271e3,_0x5990ab)=>{_0x4daf52();});});}await _0x2fc6d9[_0xc168('14','dpF$')](_0x1ffaee);if(_0x2fc6d9[_0xc168('15','ZQds')]($['zData'][_0xc168('16','VCXs')]['length'],0x0)){for(let _0x32d7b4=0x0;_0x2fc6d9[_0xc168('17','VCXs')](_0x32d7b4,$[_0xc168('18','h&Aj')]['data']['length']);_0x32d7b4++){var _0x565bf9=_0x2fc6d9[_0xc168('19','oYd7')][_0xc168('1a','^MsN')]('|'),_0x17badc=0x0;while(!![]){switch(_0x565bf9[_0x17badc++]){case'0':actID=$[_0xc168('1b','t%qC')][_0xc168('1c','#wDP')][_0x32d7b4]['actID'];continue;case'1':await _0x2fc6d9['RPibf'](_0x2cc21c,actID,actsID);continue;case'2':await $[_0xc168('1d','gHpb')](0x5dc);continue;case'3':if($[_0xc168('1e','#wDP')]&&_0x2fc6d9[_0xc168('1f','wk7z')]($[_0xc168('20','ot[8')]['status'],0x4)){await _0x52146c(actID,actsID);}continue;case'4':actsID=$['zData']['data'][_0x32d7b4]['actsID'];continue;}break;}};};};$[_0xc168('21','VYVr')]=![];$['jingdouNums']=0x0;await getHome();if(!$[_0xc168('22','LX2k')]){await getTaskList();await doTask();await getHome(!![],!![]);if(_0x2fc6d9['bweOj'](_0x2fc6d9[_0xc168('23','WCss')](parseInt,_0x2fc6d9['OdYSI']($['fragments'],0x5)),0x3)){t=0x3;}else{t=parseInt(_0x2fc6d9[_0xc168('24','DUOT')]($[_0xc168('25','YoS^')],0x5));}if(_0x2fc6d9[_0xc168('26','0kw7')](t,0x3)){console[_0xc168('27','wk7z')]('抽奖次数不足。');}else{for(let _0x137aea=0x0;_0x137aea<t;_0x137aea++){await box();if($[_0xc168('28','0r!I')]){break;}await $[_0xc168('29','LX2k')](0x3e8);await _0x2fc6d9[_0xc168('2a','wk7z')](openBox);}await _0x2fc6d9[_0xc168('2b','H*!m')](getReward);$[_0xc168('2c','#wDP')]($[_0xc168('2d','5lS6')],_0xc168('2e','05#P')+$[_0xc168('2f','Y&aQ')]+'京豆');}}else{return;}}function getReward(){var _0xf2f5d={'caqYu':function(_0x2e6a9b,_0x397142){return _0x2e6a9b!==_0x397142;},'cQDBK':function(_0x53df29,_0x332a2b){return _0x53df29(_0x332a2b);},'fnAEQ':function(_0x53c7ac){return _0x53c7ac();},'XtmhJ':function(_0x518552,_0xf4f691,_0x186583){return _0x518552(_0xf4f691,_0x186583);},'eHmHP':_0xc168('30','8*GC')};for(let _0x429766 of $[_0xc168('31','dpF$')]){if(_0x429766['hasRightOpen']===0x1&&_0x429766[_0xc168('32','Y&aQ')]===0x0){return new Promise(_0x1c0a46=>{$[_0xc168('33','Bx4$')](_0xf2f5d[_0xc168('34','05#P')](taskUrl_2,_0xf2f5d['eHmHP'],'{\x22activityCode\x22:\x22lucky-box-001\x22,\x22id\x22:'+_0x429766['id']+'}'),(_0x321cf9,_0x53baa6,_0x440e0a)=>{try{if(_0x321cf9){console['log'](''+JSON[_0xc168('35','4[La')](_0x321cf9));}else{if(_0x440e0a){_0x440e0a=JSON[_0xc168('36','h&Aj')](_0x440e0a);if(_0xf2f5d['caqYu'](_0x440e0a['result'][_0xc168('37','8*GC')][_0xc168('38','t%qC')],'')){$[_0xc168('38','t%qC')]+=_0xf2f5d['cQDBK'](parseInt,_0x440e0a[_0xc168('39','MzM)')]['data']['jingdouNums']);}}}}catch(_0x5cd817){$[_0xc168('3a','FGEu')](_0x5cd817);}finally{_0xf2f5d[_0xc168('3b','H*!m')](_0x1c0a46);}});});}}}function box(){var _0x3f2118={'YnSOX':_0xc168('3c','HMnZ'),'HtKKn':function(_0x13b038,_0x176f7c){return _0x13b038===_0x176f7c;},'erYTn':'您当前已有未打开的盲盒!','EMJsI':function(_0x48c1fb){return _0x48c1fb();},'DsEAO':function(_0xc31791,_0x528fc7,_0x52d4cc){return _0xc31791(_0x528fc7,_0x52d4cc);},'kQKsc':'buyBox'};return new Promise(_0x30e3ea=>{$[_0xc168('3d','UyoQ')](_0x3f2118['DsEAO'](taskUrl_2,_0x3f2118[_0xc168('3e','w*[@')],_0xc168('3f','cwWF')),async(_0x252cd5,_0x114315,_0x2c4e90)=>{try{if(_0x252cd5){console['log'](''+JSON['stringify'](_0x252cd5));}else{if(_0x2c4e90){_0x2c4e90=JSON[_0xc168('40','WpL5')](_0x2c4e90);if(_0x2c4e90['result']['message']===_0x3f2118[_0xc168('41','^npK')]){console[_0xc168('42','8*GC')](_0x2c4e90[_0xc168('43','DUOT')][_0xc168('44','4gw1')]);$[_0xc168('45','w*[@')]=!![];return;}if(_0x3f2118[_0xc168('46','dpF$')](_0x2c4e90[_0xc168('47','LX2k')][_0xc168('48','oYd7')],_0x3f2118['erYTn'])){await _0x3f2118[_0xc168('49','t%qC')](openBox);}if(_0x3f2118[_0xc168('4a','cwWF')](_0x2c4e90[_0xc168('4b','0kw7')][_0xc168('4c','0kw7')],'0')){await getHome(![],!![]);}}}}catch(_0x111327){$[_0xc168('4d','h&Aj')](_0x111327);}finally{_0x30e3ea();}});});}function openBox(){var _0x328234={'lRdMj':function(_0x3a75e3,_0x52373c){return _0x3a75e3!==_0x52373c;},'buHja':function(_0x214abe,_0x3c8d12,_0x3e3743){return _0x214abe(_0x3c8d12,_0x3e3743);},'sKExu':_0xc168('4e','eR[Z')};return new Promise(_0x34cabd=>{var _0x32c85c={'loUVI':function(_0x77b668,_0x4d04bb){return _0x328234[_0xc168('4f','X7Yh')](_0x77b668,_0x4d04bb);},'QNBam':function(_0x770af0,_0x4f6c7b){return _0x770af0(_0x4f6c7b);},'PdcnD':function(_0x40311d){return _0x40311d();}};$[_0xc168('50','MzM)')](_0x328234[_0xc168('51','4[La')](taskUrl_2,_0x328234[_0xc168('52','X7Yh')],_0xc168('53','FGEu')+$['boxInfo'][_0xc168('54','wk7z')]+_0xc168('55','DUOT')+$[_0xc168('56','8*GC')][_0xc168('57','t%qC')]+'}'),(_0x246b9b,_0x5e4ea5,_0xec3a36)=>{try{if(_0x246b9b){console[_0xc168('58','^MsN')](''+JSON[_0xc168('59','VYVr')](_0x246b9b));}else{if(_0xec3a36){_0xec3a36=JSON[_0xc168('5a','Y&aQ')](_0xec3a36);if(_0x32c85c[_0xc168('5b','zUTe')](_0xec3a36['result'][_0xc168('5c','&d1A')][_0xc168('5d','UyoQ')],'')){$[_0xc168('5e','VYVr')]+=_0x32c85c[_0xc168('5f','zUTe')](parseInt,_0xec3a36[_0xc168('60','Y&aQ')][_0xc168('61','4[La')][_0xc168('62','LX2k')]);}}}}catch(_0x5b6eea){$[_0xc168('63','YoS^')](_0x5b6eea);}finally{_0x32c85c[_0xc168('64','WpL5')](_0x34cabd);}});});}async function doTask(){var _0x255f4b={'hxgvu':function(_0x5e770b,_0x17f7f2){return _0x5e770b!==_0x17f7f2;},'myVOm':function(_0x359938,_0x3504ef){return _0x359938*_0x3504ef;},'XuOJo':function(_0x4daad9,_0x48cd82){return _0x4daad9(_0x48cd82);}};let _0x2ba003=$[_0xc168('65','wk7z')][_0xc168('66','UyoQ')];for(let _0xebb3b3 of _0x2ba003){let _0x4d9794=_0xebb3b3['totalTimes']-_0xebb3b3[_0xc168('67','Jb5*')];if(_0x255f4b[_0xc168('68','ot[8')](_0x4d9794,0x0)){for(let _0xb2ab94=0x0;_0xb2ab94<_0x4d9794;_0xb2ab94++){let _0xa740e9='{\x22taskId\x22:'+_0xebb3b3[_0xc168('69','oYd7')]+',\x22itemId\x22:'+_0xebb3b3['itemId']+_0xc168('6a','Tu@&')+_0xebb3b3[_0xc168('6b','0kw7')]+_0xc168('6c','X7Yh');console[_0xc168('6d','H*!m')](_0xebb3b3[_0xc168('6e','Ow6X')]+_0xc168('6f','WCss')+_0xebb3b3[_0xc168('70','Y&aQ')]);await $[_0xc168('71','w*[@')](_0x255f4b['myVOm'](_0xebb3b3['viewSeconds'],0x1f4));await _0x255f4b['XuOJo'](taskRun,_0xa740e9);await $[_0xc168('72','LEdo')](0x3e8);}}}}function taskRun(_0x13ccd2){var _0x2462c1={'dsxtt':function(_0xc914c1,_0x589ae7,_0x18be2f){return _0xc914c1(_0x589ae7,_0x18be2f);},'eRAoe':_0xc168('73','t%qC')};return new Promise(_0x36ec9f=>{$['get'](_0x2462c1[_0xc168('74','4gw1')](taskUrl_2,_0x2462c1['eRAoe'],_0x13ccd2),(_0x3be7a9,_0x9640ff,_0x3d4998)=>{try{if(_0x3be7a9){console['log'](''+JSON['stringify'](_0x3be7a9));}else{if(_0x3d4998){_0x3d4998=JSON[_0xc168('75','LEdo')](_0x3d4998);console['log'](_0x3d4998['result']['message']);}}}catch(_0x2c2f72){$[_0xc168('76','LX2k')](_0x2c2f72);}finally{_0x36ec9f();}});});}function getTaskList(){var _0x4e5a58={'RJUxy':_0xc168('77','4gw1'),'xaTyj':function(_0x393594){return _0x393594();},'qpvhq':'myTask'};let _0x52a4ba=_0xc168('78','w*[@');return new Promise(_0x4da187=>{$[_0xc168('79','cwWF')](taskUrl_2(_0x4e5a58[_0xc168('7a','oYd7')],_0x52a4ba),(_0x147621,_0x57da85,_0x485deb)=>{try{if(_0x147621){console[_0xc168('7b','Y&aQ')](''+JSON[_0xc168('7c','0kw7')](_0x147621));}else{if(_0x485deb){_0x485deb=JSON['parse'](_0x485deb);if(_0x485deb[_0xc168('7d','5lS6')]['hasOwnProperty'](_0x4e5a58[_0xc168('7e','zUTe')])){$[_0xc168('7f','ot[8')]=_0x485deb[_0xc168('80','cwWF')][_0xc168('81','WCss')];}}}}catch(_0x27b4dd){$[_0xc168('82','WCss')](_0x27b4dd);}finally{_0x4e5a58[_0xc168('83','BErD')](_0x4da187);}});});}function getHome(_0x4896c8=![],_0x294df8=![]){var _0x34e5d5={'JMEft':_0xc168('84','X7Yh'),'sKDAT':function(_0x17ad22,_0x4d90f7){return _0x17ad22===_0x4d90f7;},'gJvAQ':_0xc168('85','H*!m'),'vyroZ':_0xc168('86','FGEu'),'awbqt':function(_0x268006,_0x567984,_0x5f1ff4){return _0x268006(_0x567984,_0x5f1ff4);},'GLEmB':'luckyBoxMainInfo'};let _0x2070a5=_0xc168('87','4[La');return new Promise(_0x2cd524=>{var _0x37d3bd={'ssgry':_0x34e5d5['JMEft'],'MbcZu':function(_0x373e64,_0xd0fa0c){return _0x34e5d5[_0xc168('88','[d*B')](_0x373e64,_0xd0fa0c);},'hGbvL':_0x34e5d5[_0xc168('89','Tu@&')],'dpmqc':_0x34e5d5[_0xc168('8a','VYVr')]};$['get'](_0x34e5d5[_0xc168('8b','wk7z')](taskUrl_2,_0x34e5d5[_0xc168('8c','WpL5')],_0x2070a5),(_0x24059b,_0x218517,_0x4d251d)=>{try{if(_0x24059b){console[_0xc168('8d','gHpb')](''+JSON[_0xc168('8e','wk7z')](_0x24059b));}else{if(_0x4d251d){var _0x17db62=_0x37d3bd[_0xc168('8f','oYd7')][_0xc168('90','0r!I')]('|'),_0x39ce9a=0x0;while(!![]){switch(_0x17db62[_0x39ce9a++]){case'0':_0x4d251d=JSON[_0xc168('91','w*[@')](_0x4d251d);continue;case'1':if(_0x294df8){$[_0xc168('92','5lS6')]=_0x4d251d['result'][_0xc168('93','6oZ9')]['luckyBoxList'][0x0];$['rewardBagList']=_0x4d251d['result']['data'][_0xc168('94','oYd7')];}continue;case'2':if(_0x4896c8){$[_0xc168('95','WCss')]=_0x4d251d[_0xc168('96','BD4q')][_0xc168('97','LX2k')][_0xc168('98','#wDP')][_0xc168('99','zUTe')];}continue;case'3':if(_0x37d3bd[_0xc168('9a','BD4q')](_0x4d251d[_0xc168('9b','t%qC')][_0xc168('1c','#wDP')][_0xc168('9c','h&Aj')],0x1)){$['risk']=!![];console[_0xc168('9d','zUTe')](_0xc168('9e','0kw7'));return;}continue;case'4':if(_0x4d251d[_0xc168('9f','UyoQ')][_0xc168('a0','H*!m')]==='2'){$[_0xc168('a1','BErD')]=!![];console[_0xc168('a2','VYVr')](_0x4d251d[_0xc168('a3','Jb5*')]['message']+_0x37d3bd[_0xc168('a4','LEdo')]);return;}continue;case'5':if(_0x37d3bd[_0xc168('a5','4gw1')](_0x4d251d[_0xc168('a6','Jb5*')],'3')){$[_0xc168('a7','5lS6')]=!![];console[_0xc168('a8','6oZ9')](_0x37d3bd[_0xc168('a9','4[La')]);return;}continue;}break;}}}}catch(_0x412989){$[_0xc168('aa','Jb5*')](_0x412989);}finally{_0x2cd524();}});});}function taskUrl_2(_0x2589c0,_0x4e0253){var _0x3bd20c={'OAfPo':function(_0x92af18,_0x2b6b8f){return _0x92af18(_0x2b6b8f);},'TMlPh':'https://gmart.jd.com','fsKjy':'keep-alive','mOnzo':_0xc168('ab','H*!m'),'TSHpP':_0xc168('ac','8*GC'),'zjQGI':_0xc168('ad','Ow6X')};return{'url':_0xc168('ae','UyoQ')+_0x2589c0+_0xc168('af','[d*B')+_0x3bd20c[_0xc168('b0','&d1A')](encodeURIComponent,_0x4e0253),'headers':{'Host':_0xc168('b1','H*!m'),'Origin':_0x3bd20c[_0xc168('b2','%vJr')],'Connection':_0x3bd20c['fsKjy'],'Accept':_0xc168('b3','4[La'),'User-Agent':_0x3bd20c['mOnzo'],'Accept-Language':_0x3bd20c['TSHpP'],'Referer':_0x3bd20c[_0xc168('b4','dpF$')],'Accept-Encoding':_0xc168('b5','UyoQ'),'Cookie':cookie}};};_0xods='jsjiami.com.v6';
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
